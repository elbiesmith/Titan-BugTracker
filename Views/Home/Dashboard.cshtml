@model IEnumerable<Titan_BugTracker.Models.Project>

<link href="/assets/plugins/tabulator/bootstrap/tabulator_bootstrap4.css" rel="stylesheet" type="text/css" />
<!-- Page Content-->
<div class="page-content-tab">

    <div class="container-fluid">
        <!-- Page-Title -->
        <div class="row">
            <div class="col-sm-12">
                <div class="page-title-box">
                    <div class="float-end">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item">
                                <a href="#">Metrica</a>
                            </li><!--end nav-item-->
                            <li class="breadcrumb-item">
                                <a href="#">Dashboard</a>
                            </li><!--end nav-item-->
                            <li class="breadcrumb-item active">Analytics</li>
                        </ol>
                    </div>
                    <h4 class="page-title">Analytics</h4>
                </div><!--end page-title-box-->
            </div><!--end col-->
        </div>
        <!-- end page title end breadcrumb -->
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-3">
                <div class="card report-card">
                    <div class="card-body">
                        <div class="row d-flex justify-content-center">
                            <div class="col">
                                <p class="text-dark mb-1 fw-semibold">Projects</p>
                                <h4 class="my-1">77</h4>
                                <p class="mb-0 text-truncate text-muted"><span class="text-success"><i class="mdi mdi-checkbox-marked-circle-outline me-1"></i></span>26 Project Complete</p>
                            </div>
                            <div class="col-auto align-self-center">
                                <div class="bg-light-alt d-flex justify-content-center align-items-center thumb-md  rounded-circle">
                                    <i data-feather="layers" class="align-self-center text-muted icon-sm"></i>
                                </div>
                            </div>
                        </div>
                    </div><!--end card-body-->
                </div><!--end card-->
            </div> <!--end col-->
            <div class="col-md-6 col-lg-3">
                <div class="card report-card">
                    <div class="card-body">
                        <div class="row d-flex justify-content-center">
                            <div class="col">
                                <p class="text-dark mb-1 fw-semibold">Tasks</p>
                                <h4 class="my-1">41</h4>
                                <p class="mb-0 text-truncate text-muted"><span class="badge badge-soft-success">Active</span> Weekly Avg.Sessions</p>
                            </div>
                            <div class="col-auto align-self-center">
                                <div class="bg-light-alt d-flex justify-content-center align-items-center thumb-md  rounded-circle">
                                    <i data-feather="check-square" class="align-self-center text-muted icon-sm"></i>
                                </div>
                            </div>
                        </div>
                    </div><!--end card-body-->
                </div><!--end card-->
            </div> <!--end col-->
            <div class="col-md-6 col-lg-3">
                <div class="card report-card">
                    <div class="card-body">
                        <div class="row d-flex justify-content-center">
                            <div class="col">
                                <p class="text-dark mb-1 fw-semibold">Total Hours</p>
                                <h4 class="my-1">801:30</h4>
                                <p class="mb-0 text-truncate text-muted">
                                    <span class="text-muted">01:33</span> /
                                    <span class="text-muted">9:30</span>  Duration
                                </p>
                            </div>
                            <div class="col-auto align-self-center">
                                <div class="bg-light-alt d-flex justify-content-center align-items-center thumb-md  rounded-circle">
                                    <i data-feather="clock" class="align-self-center text-muted icon-sm"></i>
                                </div>
                            </div>
                        </div>
                    </div><!--end card-body-->
                </div><!--end card-->
            </div> <!--end col-->
            <div class="col-md-6 col-lg-3">
                <div class="card report-card">
                    <div class="card-body">
                        <div class="row d-flex justify-content-center">
                            <div class="col">
                                <p class="text-dark mb-1 fw-semibold">Budget</p>
                                <h4 class="my-1">$24100</h4>
                                <p class="mb-0 text-truncate text-muted"><span class="text-dark">$14k</span> Total used budgets</p>
                            </div>
                            <div class="col-auto align-self-center">
                                <div class="bg-light-alt d-flex justify-content-center align-items-center thumb-md  rounded-circle">
                                    <i data-feather="dollar-sign" class="align-self-center text-muted icon-sm"></i>
                                </div>
                            </div>
                        </div>
                    </div><!--end card-body-->
                </div><!--end card-->
            </div> <!--end col-->
        </div><!--end row-->

        <div class="row">
            <div class="col-lg-4">
                <div class="card">
                    <div class="card-header">
                        <div class="row align-items-center">
                            <div class="col">
                                <h4 class="card-title">Live Visits Our New Site</h4>
                            </div><!--end col-->
                            <div class="col-auto">
                                <div class="dropdown">
                                    <a href="#" class="btn btn-sm btn-outline-light dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        Today<i class="las la-angle-down ms-1"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-end">
                                        <a class="dropdown-item" href="#">Today</a>
                                        <a class="dropdown-item" href="#">Yesterday</a>
                                        <a class="dropdown-item" href="#">Last Week</a>
                                    </div>
                                </div>
                            </div><!--end col-->
                        </div>  <!--end row-->
                    </div><!--end card-header-->
                    <div class="card-body">
                        <div id="circlechart" class="apex-charts"></div>
                        <div>
                            <div class="row">
                                <div class="col-lg">
                                    <h4 class="card-title mt-0 mb-2">Traffic Sources</h4>
                                    <div class="traffic-card">
                                        <h4 class="my-2">80</h4>
                                        <p class="mb-2 fw-semibold">Right Now</p>
                                    </div>
                                </div><!--end col-->
                                <div class="col-lg-auto align-self-center">
                                    <ul class="list-unstyled url-list mb-0">
                                        <li>
                                            <i class="fas fa-caret-right font-16 text-primary"></i>
                                            <span>Organic</span>
                                        </li>
                                        <li>
                                            <i class="fas fa-caret-right font-16 text-success"></i>
                                            <span>Direct</span>
                                        </li>
                                        <li>
                                            <i class="fas fa-caret-right font-16 text-gray"></i>
                                            <span>Campaign</span>
                                        </li>
                                    </ul>
                                </div><!--end col-->
                            </div><!--end row-->
                            <div class="progress">
                                <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar" style="width: 55%" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100">55%</div>
                                <div class="progress-bar bg-info" role="progressbar" style="width: 28%" aria-valuenow="28" aria-valuemin="0" aria-valuemax="100">28%</div>
                                <div class="progress-bar bg-soft-secondary" role="progressbar" style="width: 17%" aria-valuenow="17" aria-valuemin="0" aria-valuemax="100">17%</div>
                            </div>
                        </div>
                    </div><!--end card-body-->
                </div><!--end card-->
            </div><!--end col-->
            <div class="col-lg-4">
                <div class="card">
                    <div class="card-header">
                        <div class="row align-items-center">
                            <div class="col">
                                <h4 class="card-title">Pages View by Users</h4>
                            </div><!--end col-->
                            <div class="col-auto">
                                <div class="dropdown">
                                    <a href="#" class="btn btn-sm btn-outline-light dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        Today<i class="las la-angle-down ms-1"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-end">
                                        <a class="dropdown-item" href="#">Today</a>
                                        <a class="dropdown-item" href="#">Yesterday</a>
                                        <a class="dropdown-item" href="#">Last Week</a>
                                    </div>
                                </div>
                            </div><!--end col-->
                        </div>  <!--end row-->
                    </div><!--end card-header-->
                    <div class="card-body">
                        <ul class="list-group custom-list-group">
                            <li class="list-group-item align-items-center d-flex justify-content-between">
                                <div class="media">
                                    <img src="~/assets/images/small/rgb.svg" height="30" class="me-3 align-self-center rounded" alt="...">
                                    <div class="media-body align-self-center">
                                        <h6 class="m-0">Dastone - Admin Dashboard</h6>
                                        <p class="mb-0 text-muted">analytic-index.html</p>
                                    </div><!--end media body-->
                                </div>
                                <div class="align-self-center">
                                    <a href="#" class="btn btn-sm btn-soft-primary">4.3k <i class="las la-external-link-alt font-15"></i></a>
                                </div>
                            </li>
                            <li class="list-group-item align-items-center d-flex justify-content-between">
                                <div class="media">
                                    <img src="~/assets/images/small/cobweb.svg" height="30" class="me-3 align-self-center rounded" alt="...">
                                    <div class="media-body align-self-center">
                                        <h6 class="m-0">Metrica Simple- Admin Dashboard</h6>
                                        <p class="mb-0 text-muted">sales-index.html</p>
                                    </div><!--end media body-->
                                </div>
                                <div class="align-self-center">
                                    <a href="#" class="btn btn-sm btn-soft-primary">3.7k <i class="las la-external-link-alt font-15"></i></a>
                                </div>
                            </li>
                            <li class="list-group-item align-items-center d-flex justify-content-between">
                                <div class="media">
                                    <img src="~/assets/images/small/blocks.svg" height="30" class="me-3 align-self-center rounded" alt="...">
                                    <div class="media-body align-self-center">
                                        <h6 class="m-0">Crovex - Admin Dashboard</h6>
                                        <p class="mb-0 text-muted">helpdesk-index.html</p>
                                    </div><!--end media body-->
                                </div>
                                <div class="align-self-center">
                                    <a href="#" class="btn btn-sm btn-soft-primary">2.9k <i class="las la-external-link-alt font-15"></i></a>
                                </div>
                            </li>
                            <li class="list-group-item align-items-center d-flex justify-content-between">
                                <div class="media">
                                    <img src="~/assets/images/small/atom.svg" height="30" class="me-3 align-self-center rounded" alt="...">
                                    <div class="media-body align-self-center">
                                        <h6 class="m-0">Annex - Admin Dashboard</h6>
                                        <p class="mb-0 text-muted">calendar.html</p>
                                    </div><!--end media body-->
                                </div>
                                <div class="align-self-center">
                                    <a href="#" class="btn btn-sm btn-soft-primary">1.6k <i class="las la-external-link-alt font-15"></i></a>
                                </div>
                            </li>
                        </ul>
                    </div><!--end card-body-->
                </div><!--end card-->
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex">
                            <h2 class="m-0 align-self-center">80</h2>
                            <div class="d-block ms-2 align-self-center">
                                <span class="text-warning">Right now</span>
                                <h5 class="my-1">Traffic Sources</h5>
                                <p class="mb-0 text-muted">
                                    It is a long established fact that a reader will
                                    be of a page when looking at its layout.
                                    <a href="#" class="text-primary">Read More <i class="las la-arrow-right"></i></a>
                                </p>
                            </div>
                        </div>
                    </div><!--end card-body-->
                </div><!--end card-->
            </div> <!--end col-->

            <div class="col-lg-4">
                <div class="card">
                    <div class="card-header">
                        <div class="row align-items-center">
                            <div class="col">
                                <h4 class="card-title">Activity</h4>
                            </div><!--end col-->
                            <div class="col-auto">
                                <div class="dropdown">
                                    <a href="#" class="btn btn-sm btn-outline-light dropdown-toggle" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        All<i class="las la-angle-down ms-1"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-end">
                                        <a class="dropdown-item" href="#">Purchases</a>
                                        <a class="dropdown-item" href="#">Emails</a>
                                    </div>
                                </div>
                            </div><!--end col-->
                        </div>  <!--end row-->
                    </div><!--end card-header-->
                    <div class="card-bodyp-0">
                        <div class="p-3" data-simplebar style="height: 390px;">
                            <div class="activity">
                                <div class="activity-info">
                                    <div class="icon-info-activity">
                                        <i class="las la-user-clock bg-soft-primary"></i>
                                    </div>
                                    <div class="activity-info-text">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <p class="text-muted mb-0 font-13 w-75">
                                                <span>Donald</span>
                                                updated the status of <a href="#">Refund #1234</a> to awaiting customer response
                                            </p>
                                            <small class="text-muted">10 Min ago</small>
                                        </div>
                                    </div>
                                </div>

                                <div class="activity-info">
                                    <div class="icon-info-activity">
                                        <i class="mdi mdi-timer-off bg-soft-primary"></i>
                                    </div>
                                    <div class="activity-info-text">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <p class="text-muted mb-0 font-13 w-75">
                                                <span>Lucy Peterson</span>
                                                was added to the group, group name is <a href="#">Overtake</a>
                                            </p>
                                            <small class="text-muted">50 Min ago</small>
                                        </div>
                                    </div>
                                </div>

                                <div class="activity-info">
                                    <div class="icon-info-activity">
                                        <img src="~/assets/images/users/user-5.jpg" alt="" class="rounded-circle thumb-sm">
                                    </div>
                                    <div class="activity-info-text">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <p class="text-muted mb-0 font-13 w-75">
                                                <span>Joseph Rust</span>
                                                opened new showcase <a href="#">Mannat #112233</a> with theme market
                                            </p>
                                            <small class="text-muted">10 hours ago</small>
                                        </div>
                                    </div>
                                </div>

                                <div class="activity-info">
                                    <div class="icon-info-activity">
                                        <i class="mdi mdi-clock-outline bg-soft-primary"></i>
                                    </div>
                                    <div class="activity-info-text">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <p class="text-muted mb-0 font-13 w-75">
                                                <span>Donald</span>
                                                updated the status of <a href="#">Refund #1234</a> to awaiting customer response
                                            </p>
                                            <small class="text-muted">Yesterday</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="activity-info">
                                    <div class="icon-info-activity">
                                        <i class="mdi mdi-alert-outline bg-soft-primary"></i>
                                    </div>
                                    <div class="activity-info-text">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <p class="text-muted mb-0 font-13 w-75">
                                                <span>Lucy Peterson</span>
                                                was added to the group, group name is <a href="#">Overtake</a>
                                            </p>
                                            <small class="text-muted">14 Nov 2019</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="activity-info">
                                    <div class="icon-info-activity">
                                        <img src="~/assets/images/users/user-4.jpg" alt="" class="rounded-circle thumb-sm">
                                    </div>
                                    <div class="activity-info-text">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <p class="text-muted mb-0 font-13 w-75">
                                                <span>Joseph Rust</span>
                                                opened new showcase <a href="#">Mannat #112233</a> with theme market
                                            </p>
                                            <small class="text-muted">15 Nov 2019</small>
                                        </div>
                                    </div>
                                </div>
                            </div><!--end activity-->
                        </div><!--end analytics-dash-activity-->
                    </div>  <!--end card-body-->
                </div><!--end card-->
            </div><!--end col-->
        </div><!--end row-->
        <div class="row">
            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <div class="row align-items-center">
                            <div class="col">
                                <h4 class="card-title">All Company Projects</h4>
                            </div><!--end col-->
                        </div>  <!--end row-->
                    </div><!--end card-header-->
                    <div class="card-body">
                        <div class="table-responsive browser_users">
                            <table class="table" id="projectTable">
                                <thead>
                                    <tr>
                                        <th>
                                            @Html.DisplayNameFor(model => model.Name)
                                        </th>
                                        @*<th>
                                            @Html.DisplayNameFor(model => model.Description)
                                        </th>*@
                                        <th>
                                            @Html.DisplayNameFor(model => model.StartDate)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.EndDate)
                                        </th>
                                        @*<th>
                                            @Html.DisplayNameFor(model => model.FileName)
                                        </th>*@
                                        @*<th>
                                            @Html.DisplayNameFor(model => model.FileData)
                                        </th>*@
                                        @*<th>
                                            @Html.DisplayNameFor(model => model.FileContentType)
                                        </th>*@
                                        <th>
                                            @Html.DisplayNameFor(model => model.Archived)
                                        </th>
                                        @*<th>
                                            @Html.DisplayNameFor(model => model.Company)
                                        </th>*@
                                        <th>
                                            @Html.DisplayNameFor(model => model.ProjectPriority)
                                        </th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model)
                                    {
                                        <tr>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Name)
                                            </td>
                                            @*<td>
                                                @Html.DisplayFor(modelItem => item.Description)
                                            </td>*@
                                            <td>
                                                @Html.DisplayFor(modelItem => item.StartDate)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.EndDate)
                                            </td>
                                            @*<td>
                                                @Html.DisplayFor(modelItem => item.FileName)
                                            </td>*@
                                            @*<td>
                                                @Html.DisplayFor(modelItem => item.FileData)
                                            </td>*@
                                            @*<td>
                                                @Html.DisplayFor(modelItem => item.FileContentType)
                                            </td>*@
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Archived)
                                            </td>
                                            @*<td>
                                                @Html.DisplayFor(modelItem => item.Company.Description)
                                            </td>*@
                                            <td>
                                                @Html.DisplayFor(modelItem => item.ProjectPriority.Name)
                                            </td>
                                            <td>
                                                <a asp-action="Edit" asp-controller="Projects" asp-route-id="@item.Id">Edit</a> |
                                                <a asp-action="Details" asp-controller="Projects" asp-route-id="@item.Id">Details</a> |
                                                <a asp-action="AssignMembers" asp-controller="Projects" asp-route-id="@item.Id">Assign Members</a> |

                                                <a asp-action="Delete" asp-controller="Projects" asp-route-id="@item.Id">Delete</a>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div><!--end /div-->
                    </div><!--end card-body-->
                </div><!--end card-->
            </div> <!--end col-->

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-header">
                        <div class="row align-items-center">
                            <div class="col">
                                <h4 class="card-title">All Company Tickets</h4>
                            </div><!--end col-->
                        </div>  <!--end row-->
                    </div><!--end card-header-->
                    <div class="card-body">
                        <div class="table-responsive browser_users">
                            <table class="table" id="ticketTable">
                                <thead>
                                    <tr>
                                        <th>
                                            Title
                                        </th>
                                        @*<th>
                                            Description
                                        </th>*@
                                        <th>
                                            Created
                                        </th>
                                        @*<th>
                                            Updated
                                        </th>*@
                                        @*<th>
                                            Archived
                                        </th>*@
                                        <th>
                                            Project
                                        </th>
                                        <th>
                                            Ticket Type
                                        </th>
                                        <th>
                                            Ticket Status
                                        </th>
                                        <th>
                                            Ticket Priority
                                        </th>
                                        <th>
                                            Submitter
                                        </th>
                                        <th>
                                            Developer
                                        </th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var item in Model.SelectMany(p => p.Tickets))
                                    {
                                        <tr>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Title)
                                            </td>
                                            @*<td>
                                                @Html.DisplayFor(modelItem => item.Description)
                                            </td>*@
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Created)
                                            </td>
                                            @*<td>
                                                @Html.DisplayFor(modelItem => item.Updated)
                                            </td>*@
                                            @*<td>
                                                @Html.DisplayFor(modelItem => item.Archived)
                                            </td>*@
                                            <td>
                                                @Html.DisplayFor(modelItem => item.Project.Name)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.TicketType.Name)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.TicketStatus.Name)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.TicketPriority.Name)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.OwnerUser.FullName)
                                            </td>
                                            <td>
                                                @Html.DisplayFor(modelItem => item.DeveloperUser.FullName)
                                            </td>
                                            <td>
                                                <a asp-action="Edit" asp-controller="Tickets" asp-route-id="@item.Id">Edit</a> |
                                                <a asp-action="Details" asp-controller="Tickets" asp-route-id="@item.Id">Details</a> |
                                                <a asp-action="Delete" asp-controller="Tickets" asp-route-id="@item.Id">Delete</a>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div><!--end /div-->
                    </div><!--end card-body-->
                </div><!--end card-->
            </div> <!--end col-->
        </div><!--end row-->
    </div><!-- container -->
    <!--Start Rightbar-->
    <!--Start Rightbar/offcanvas-->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="Appearance" aria-labelledby="AppearanceLabel">
        <div class="offcanvas-header border-bottom">
            <h5 class="m-0 font-14" id="AppearanceLabel">Appearance</h5>
            <button type="button" class="btn-close text-reset p-0 m-0 align-self-center" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <h6>Account Settings</h6>
            <div class="p-2 text-start mt-3">
                <div class="form-check form-switch mb-2">
                    <input class="form-check-input" type="checkbox" id="settings-switch1">
                    <label class="form-check-label" for="settings-switch1">Auto updates</label>
                </div><!--end form-switch-->
                <div class="form-check form-switch mb-2">
                    <input class="form-check-input" type="checkbox" id="settings-switch2" checked>
                    <label class="form-check-label" for="settings-switch2">Location Permission</label>
                </div><!--end form-switch-->
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="settings-switch3">
                    <label class="form-check-label" for="settings-switch3">Show offline Contacts</label>
                </div><!--end form-switch-->
            </div><!--end /div-->
            <h6>General Settings</h6>
            <div class="p-2 text-start mt-3">
                <div class="form-check form-switch mb-2">
                    <input class="form-check-input" type="checkbox" id="settings-switch4">
                    <label class="form-check-label" for="settings-switch4">Show me Online</label>
                </div><!--end form-switch-->
                <div class="form-check form-switch mb-2">
                    <input class="form-check-input" type="checkbox" id="settings-switch5" checked>
                    <label class="form-check-label" for="settings-switch5">Status visible to all</label>
                </div><!--end form-switch-->
                <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" id="settings-switch6">
                    <label class="form-check-label" for="settings-switch6">Notifications Popup</label>
                </div><!--end form-switch-->
            </div><!--end /div-->
        </div><!--end offcanvas-body-->
    </div>
    <!--end Rightbar/offcanvas-->
    <!--end Rightbar-->
    <!--Start Footer-->
    <!-- Footer Start -->
    <footer class="footer text-center text-sm-start">
        &copy;
        <script>
            document.write(new Date().getFullYear())
        </script> Metrica <span class="text-muted d-none d-sm-inline-block float-end">
            Crafted with <i class="mdi mdi-heart text-danger"></i> by Mannatthemes
        </span>
    </footer>
    <!-- end Footer -->
    <!--end footer-->
</div>
<!-- end page content -->

@section scripts {
    <script src="~/assets/js/datatables.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#projectTable').DataTable();
        });
    </script>
    <script>
        $(document).ready(function () {
            $('#ticketTable').DataTable();
        });
    </script>

}